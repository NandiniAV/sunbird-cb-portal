<div class="flex flex-wrap fix-w mob-16" [ngClass]="fullMenuHeight ? 'full-height' : ''" *ngFor="let row of processed; trackBy:tracker" role="none"
  [ngClass]="{'px-6 pb-12 sm:px-8 md:px-10': widgetData.fromBasicEditor}" [ngClass]="containerClass">
  <div class="box" *ngFor="let col of row; trackBy:tracker2" [ngClass]="col.className" [ngStyle]="col?.styles"
    role="none">
    <ng-container [wsResolverWidget]="col.widget"></ng-container>
  </div>
</div>

<div id="grid-container" class="nps-footer" *ngIf="isNPSOpen">
  <span class="closeicon cursor-pointer" (click)="closeNPS(); raiseInteractTelemetry('close')"><mat-icon>close_small</mat-icon></span>
  <div class="center-box padding-bottom-l padding-top-s" *ngIf="!onSuccessRating">
    <span *ngIf="!ratingGiven" class="ratingtitle">{{ 'platformrating.howLikelyRecommend' | translate }}</span>
    <div class="margin-bottom-m margin-top-m rating-div flex items-center">
      <span class="cstext mat-body-2">{{ 'platformrating.notLikely' | translate }}</span>
      <ul>
        <li *ngFor="let rating of ratingList; let i=index">
          <div (click)="toggleImg(rating)" (mouseout)="unshowPRImage(rating)" >
            <div class="rating mat-body-2 cursor-pointer" (mouseenter)="showPRImage(rating)" *ngIf="!rating.showImage">{{rating.value}}</div>
            <div class="rating-img cursor-pointer" *ngIf="rating.showImage"><img src="{{rating.image}}" alt="Rating {{i+1}}"></div>
          </div>
        </li>
      </ul>
      <span class="cstext mat-body-2">{{ 'platformrating.extremelyLikely' | translate }}</span>
    </div>
    <div class="reviewdiv" *ngIf="ratingGiven">
      <textarea #textArea class="reviewbox display-block" name="review" id="review" cols="30" rows="2" placeholder="{{phtext}}" maxlength="500"></textarea>
      <button mat-stroked-button type="submit" class="display-block text-white ws-mat-primary-background margin-top-m"
      (click)="submitRating(textArea.value); raiseInteractTelemetry('submit')"><span class="text-white" i18n>{{ 'platformrating.submit' | translate }}</span>
      </button>
    </div>
  </div>
  <div *ngIf="onSuccessRating" class="margin-top-xl">
    <p class="mat-body-2 padding-top-l thankyou-text">{{ 'platformrating.thanksForFeedback' | translate }}</p>
  </div>
  <img class="karmasahayogi" src="/assets/images/nps/Karmasahayogi@2x.svg" alt="karmasahayogi" />
</div>

