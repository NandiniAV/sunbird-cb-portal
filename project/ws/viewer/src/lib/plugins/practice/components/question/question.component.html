<mat-card class="flex flex-1 respo margin-bottom-m no-shadow">
  <div class="respo flex flex-1 flex-column padding-top-m padding-left-l ws-mat-accent-border right-border">
    <div class="flex flex-1- flex-column">
      <div class="flex flex-middle">
        <h3 class="mat-subheading-2 ws-mat-black60-text margin-remove-bottom">
          <ng-container i18n="question number label">Question &nbsp;</ng-container>{{ questionNumber }}
          <ng-container i18n="question number of total questions">of</ng-container>
          {{ total }}
        </h3>
      </div>
      <!-- {{question?.options?.length}}========= -->
      <div class="flex flex-1">
        <h2 *ngIf="question.questionType !== 'ftb'" class="mat-h2" [innerHTML]="question?.question"
          class="quiz-question">
        </h2>
        <h2 *ngIf="question.questionType === 'ftb'" class="mat-h2" [innerHTML]="safeQuestion" class="quiz-question">
        </h2>

        <div *ngIf="question.questionType === 'ftb'">

          <div *ngFor="let option of question?.options; let i = index">
            <div [ngClass]="{
          'correct-option': viewState === 'answer' && option?.isCorrect
        }" *ngIf="viewState === 'answer' && option?.isCorrect">
              {{ option?.text }}
            </div>
            <div class="background-well padding-left-m padding-xs"
              *ngIf="viewState === 'review' && option?.hint && !unTouchedBlank[i]" [ngClass]="{
          'correct-option': viewState === 'review' && correctOption[i],
          'incorrect-option': viewState === 'review' && !correctOption[i]
        }">
              <p class="margin-remove mat-body-2">
                <ng-container i18n="explanation/hint message for blank label in fill-in-the-blanks">
                  Explanation for blank
                </ng-container>
                <ng-container> {{ i + 1 }} : </ng-container>
              </p>
              <p class="margin-remove mat-body-1" [innerHTML]="option?.hint"></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="flex flex-1">
    <div class="flex flex-1 flex-column">
      <div class="flex flex-1">
        <span class="spacer"></span>
        <button aria-label="flag" i18n-aria-label mat-icon-button (click)="markQuestion()">
          <mat-icon *ngIf="!isQuestionMarked()">outlined_flag</mat-icon>
          <mat-icon *ngIf="isQuestionMarked()">flag</mat-icon>
        </button>
      </div>
      <div class="flex flex-1 padding-l">
        <mat-selection-list *ngIf="question.questionType === 'mcq-mca'" class="flex flex-1 flex-column app-class">
          <div [ngClass]="{
        'correct-answer':
          (viewState === 'review' && option?.isCorrect && isSelected(option)) ||
          (viewState === 'answer' && option?.isCorrect),
        'incorrect-answer': viewState === 'review' && !option?.isCorrect && isSelected(option)
      }" *ngFor="let option of question?.options">
            <mat-list-option #lo checkboxPosition="before" class="margin-top-s" [ngClass]="{
              'ws-mat-accent-border': !(lo.selected),
              'ws-mat-accent-border-active ': (lo.selected)
            }" (click)="itemSelected.emit(option.optionId)">
              <mat-error *ngIf="viewState === 'review' && !option?.isCorrect && isSelected(option)">
                {{ option?.text }}
              </mat-error>
              <div [ngClass]="{
            'correct-option':
              (viewState === 'review' && option?.isCorrect && isSelected(option)) ||
              (viewState === 'answer' && option?.isCorrect)
          }" [hidden]="viewState === 'review' && !option?.isCorrect && isSelected(option)">
                <!-- {{option?.text}} -->
                <div class="no-margin-p" [innerHTML]="option?.text"></div>
              </div>
            </mat-list-option>
            <div class="background-well padding-left-m padding-xs"
              *ngIf="viewState === 'review' && isSelected(option) && option?.hint">
              <mat-error *ngIf="viewState === 'review' && !option?.isCorrect && isSelected(option)">
                <p class="margin-remove mat-body-2" i18n="option explanation label">
                  Explanation
                </p>
                <p class="margin-remove" [innerHTML]="option?.hint"></p>
              </mat-error>
              <div [ngClass]="{
            'correct-option':
              (viewState === 'review' && option?.isCorrect && isSelected(option)) ||
              (viewState === 'answer' && option?.isCorrect)
          }" [hidden]="viewState === 'review' && !option?.isCorrect && isSelected(option)">
                <p class="margin-remove mat-body-2" i18n="option explanation label">
                  Explanation
                </p>
                <p class="margin-remove mat-body-1" [innerHTML]="option?.hint"></p>
              </div>
            </div>
          </div>
        </mat-selection-list>

        <mat-radio-group *ngIf="question.questionType === 'mcq-sca'" class="flex flex-1 flex-column quiz-radio-group">
          <div *ngFor="let option of question?.options">
            <mat-radio-button #btn class="flex flex-1 padding-s quiz-radio-button margin-top-s b-r" [ngClass]="{
          'correct-answer':
            (viewState === 'review' && option?.isCorrect && isSelected(option)) ||
            (viewState === 'answer' && option?.isCorrect),
          'incorrect-answer': viewState === 'review' && !option?.isCorrect && isSelected(option),
          'ws-mat-accent-border': !(btn.checked),
          'ws-mat-accent-border-active ': (btn.checked)
        }" [value]="option.optionId" (change)="itemSelected.emit(option.optionId)">
              <span class="wrap-mat-radio-label">
                <mat-error *ngIf="viewState === 'review' && !option?.isCorrect && isSelected(option)">
                  {{ option?.text }}
                </mat-error>
                <div [ngClass]="{
              'correct-option':
                (viewState === 'review' && option?.isCorrect && isSelected(option)) ||
                (viewState === 'answer' && option?.isCorrect)
            }" [hidden]="viewState === 'review' && !option?.isCorrect && isSelected(option)">
                  <span class="mat-body-2"></span> {{ option?.text }}
                </div>
              </span>
            </mat-radio-button>
            <div class="background-well padding-left-m padding-xs"
              *ngIf="viewState === 'review' && isSelected(option) && option?.hint">
              <mat-error *ngIf="viewState === 'review' && !option?.isCorrect && isSelected(option)">
                <p class="margin-remove mat-body-2" i18n="option explanation label">
                  Explanation:
                </p>
                <p class="margin-remove mat-body-1" [innerHTML]="option?.hint"></p>
              </mat-error>
              <div [ngClass]="{
            'correct-option':
              (viewState === 'review' && option?.isCorrect && isSelected(option)) ||
              (viewState === 'answer' && option?.isCorrect)
          }" [hidden]="viewState === 'review' && !option?.isCorrect && isSelected(option)">
                <p class="margin-remove mat-body-2" i18n="option explanation label">
                  Explanation :
                </p>
                <p class="margin-remove mat-body-1" [innerHTML]="option?.hint"></p>
              </div>
            </div>
          </div>
        </mat-radio-group>

        <div class="flex flex-1" *ngIf="question.questionType === 'mtf'">
          <div class="flex flex-1" (scroll)="repaintEveryThing()" (resize)="repaintEveryThing()">
            <div style="height:auto" class="flex flex-1">
              <div class="flex flex-1 flex-column" [id]="question.questionId">
                <div *ngFor="let option of question.options; let i = index">
                  <div style="display: flex;justify-content: space-around;flex-wrap: wrap;  height:auto;">
                    <div [class]="'question' + question.questionId + ' question'"
                      [id]="'c1' + question.questionId + (i + 1)">
                      <span class="mat-body-2"> {{ option.text }}</span>
                    </div>
                    <div [class]="'answer' + question.questionId + ' answer'"
                      [id]="'c2' + question.questionId + (i + 1)">
                      <span class="mat-body-2">{{ option.matchForView }}</span>
                    </div>
                  </div>
                  <br />
                  <br />
                </div>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="
      question.questionType === 'mtf' &&
      viewState === 'review' &&
      numConnections &&
      matchHintDisplay.length !== 0
    " style="display: flex;flex-direction: column;">
          <p i18n="option explanation label">Explanation</p>
          <table mat-table [dataSource]="matchHintDisplay" class="mat-elevation-z8">
            <ng-container matColumnDef="text">
              <th mat-header-cell *matHeaderCellDef i18n="mtf explanation Option">
                Option
              </th>
              <td mat-cell *matCellDef="let element">{{ element.text }}</td>
            </ng-container>
            <ng-container matColumnDef="hint">
              <th mat-header-cell *matHeaderCellDef i18n="mtf explanation Hint">
                Hint
              </th>
              <td mat-cell *matCellDef="let element" [innerHTML]="element.hint"></td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="['text', 'hint']"></tr>
            <tr mat-row *matRowDef="let row; columns: ['text', 'hint']"></tr>
          </table>
        </div>
      </div>
    </div>
  </div>
</mat-card>